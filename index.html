<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Virtual Try-On with Gemini</title>
    <link rel="stylesheet" href="index.css" />
    <script type="importmap">
      {
        "imports": {
          "@google/genai": "https://esm.sh/@google/genai"
        }
      }
    </script>
  </head>
  <body>
    <header>
      <h1>Virtual Try-On</h1>
      <p>Upload a photo of a person and a piece of clothing to see them together.</p>
    </header>
    <main>
      <div class="upload-container">
        <div class="upload-area">
          <h2>Person</h2>
          <label for="person-upload" class="upload-box" id="person-upload-box" role="button" aria-label="Upload person image">
            <img id="person-preview" class="image-preview" alt="Preview of person" />
            <div id="person-placeholder" class="placeholder">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" width="48" height="48"><path d="M12 2a5 5 0 1 0 0 10 5 5 0 0 0 0-10zm0 8a3 3 0 1 1 0-6 3 3 0 0 1 0 6zm6 12a1 1 0 0 1-2 0v-2.12c0-.9-.59-1.7-1.46-1.96l-1-.28c-.5-.14-.94-.58-.94-1.1v-1.04a5.95 5.95 0 0 0-8 1.04v1.04c0 .52-.44.96-.94 1.1l-1 .28C5.69 19.18 5 19.98 5 20.88V22a1 1 0 0 1-2 0v-1.12c0-2 1.2-3.75 3-4.48l1-.28c.3-.09.5-.35.5-.66v-1.04C5.55 12.31 8.54 10 12 10s6.45 2.31 7 4.42v1.04c0 .31.2.57.5.66l1 .28c1.8.73 3 2.48 3 4.48V22z"/></svg>
              <span>Click or drag image here</span>
            </div>
          </label>
          <input type="file" id="person-upload" accept="image/*" class="visually-hidden">
        </div>
        <div class="upload-area">
          <h2>Clothing</h2>
          <label for="clothing-upload" class="upload-box" id="clothing-upload-box" role="button" aria-label="Upload clothing image">
            <img id="clothing-preview" class="image-preview" alt="Preview of clothing" />
            <div id="clothing-placeholder" class="placeholder">
               <svg xmlns="http://www.w3.org/2000/svg" enable-background="new 0 0 24 24" height="48px" viewBox="0 0 24 24" width="48px" fill="currentColor"><rect fill="none" height="24" width="24"/><path d="M21,19V5c0-1.1-0.9-2-2-2H5C3.9,19,3,19.9,3,21v14c0,1.1,0.9,2,2,2h14c1.1,0,2-0.9,2-2z M8.5,13.5l2.5,3.01L14.5,12l4.5,6 H5L8.5,13.5z"/></svg>
              <span>Click or drag image here</span>
            </div>
          </label>
          <input type="file" id="clothing-upload" accept="image/*" class="visually-hidden">
        </div>
      </div>
      <button id="try-on-button" disabled>Try On</button>
      <div id="result-container">
        <div id="result-placeholder" class="placeholder">Your generated image will appear here.</div>
        <img id="result-image" class="image-preview" alt="Generated image of person wearing the clothing" />
        <div id="loader" class="loader" role="status" aria-live="polite"></div>
        <p id="error-message" class="error-message"></p>
      </div>
    </main>
    <script type="module" src="/index.tsx"></script>
  </body>
</html>
